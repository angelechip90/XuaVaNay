<app-header [title]="'upgrade.title' | translate" [showBackButton]="true"></app-header>

<!-- Content -->
<ion-content [fullscreen]="true">
  <div class="page-container">
    <!-- Chào + tiêu đề -->
    <section class="intro">
      <div class="hello">
        <span>{{ 'upgrade.hello' | translate }} </span><strong>{{ displayName }},</strong>
      </div>
      <h1>{{ 'upgrade.heading' | translate }}</h1>
    </section>

    <!-- Grid 3 cột (stack trên mobile) -->
    <section class="wrapper">
      <!-- Card gói Pro -->
      <ion-card class="plan-card ion-no-margin" mode="ios" *ngFor="let plan of plans()">
        <ion-card-header>
          <div class="plan-head">
            <div class="plan-title">{{ plan.Name }}</div>
            <div class="plan-subtitle">{{ plan.Description }}</div>
          </div>
        </ion-card-header>

        <ion-card-content>
          <div class="price-row">
            <div class="price">{{ plan.Price | number:'1.0-0' }}đ</div>
            <div class="color-violet">{{ 'upgrade.perYear' | translate }}</div>
            @if (plan.PlanType === 2) {
            <svg width="90" height="30" viewBox="0 0 119 32" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="119" height="32" rx="16" fill="url(#paint0_linear_55584_2391)" />
              <rect width="119" height="32" rx="16" fill="url(#paint1_linear_55584_2391)" />
              <path d="M13.4611 8L15.5124 11.8226H11L13.4611 8Z" fill="#FFECB2" />
              <path d="M13.7903 8.61326L13.4611 8L11 11.8226H11.7239L13.7903 8.61326Z" fill="#EFD99C" />
              <path
                d="M15.5124 11.8232L19.2749 21.9676L16.9326 19.0958L16.8459 18.9892L14.2527 15.8105L11 11.8232H15.5124Z"
                fill="#FFC230" />
              <path
                d="M18.012 19.6213L17.9253 19.5147L15.332 16.336L12.0793 12.3487H15.7073L15.5124 11.8232H11L14.2527 15.8105L16.8459 18.9892L16.9326 19.0958L19.2749 21.9676L18.7321 20.5042L18.012 19.6213Z"
                fill="#EAAA28" />
              <path
                d="M26.9959 11.8232L23.9151 15.8694L21.5476 18.9788L21.4033 19.1686L19.2722 21.9676L22.4834 11.8232H26.9959Z"
                fill="#FFC230" />
              <path
                d="M22.8672 12.2874H26.6424L26.9959 11.8232H22.4834L19.2722 21.9676L20.1807 20.7743L22.8672 12.2874Z"
                fill="#EAAA28" />
              <path d="M24.5388 8L27 11.8226H22.4875L24.5388 8Z" fill="#FFECB2" />
              <path d="M24.8622 8.50214L24.5388 8L22.4875 11.8226H23.0803L24.8622 8.50214Z" fill="#EFD99C" />
              <path d="M24.5344 8L22.4831 11.8226L18.7913 8H24.5344Z" fill="#F78F4B" />
              <path d="M19.8756 8.44665H24.2947L24.5344 8H18.7913L22.4831 11.8226L22.7163 11.388L19.8756 8.44665Z"
                fill="#E27D44" />
              <path d="M18.7951 8L15.5132 11.8226L13.4619 8H18.7951Z" fill="#F78F4B" />
              <path d="M14.2488 8.47292H18.389L18.7951 8H13.4619L15.5132 11.8226L15.8412 11.4405L14.2488 8.47292Z"
                fill="#E27D44" />
              <path d="M18.7931 8L22.4849 11.8226H15.5112L18.7931 8Z" fill="#FFC230" />
              <path d="M19.159 8.37883L18.7931 8L15.5112 11.8226H16.2024L19.159 8.37883Z" fill="#EAAA28" />
              <path d="M22.4849 11.8232L19.2738 21.9676L15.5112 11.8232H22.4849Z" fill="#F78F4B" />
              <path d="M16.2628 12.3312H22.3241L22.4849 11.8232H15.5112L19.2738 21.9676L19.533 21.1485L16.2628 12.3312Z"
                fill="#F78F4B" />
              <path
                d="M40.4313 19.5234V21H35.4274V19.5234H40.4313ZM35.9948 11.0469V21H34.1149V11.0469H35.9948ZM44.71 19.0518L47.1914 11.0469H49.2764L45.7627 21H44.375L44.71 19.0518ZM42.4199 11.0469L44.8877 19.0518L45.2432 21H43.8418L40.3418 11.0469H42.4199ZM54.5736 12.5576L51.7367 21H49.7474L53.4661 11.0469H54.7376L54.5736 12.5576ZM56.9456 21L54.0951 12.5576L53.9242 11.0469H55.2025L58.9417 21H56.9456ZM56.8158 17.3018V18.7852H51.4769V17.3018H56.8158ZM62.8034 11.0469V21H60.9235V11.0469H62.8034ZM75.8109 17.7256H77.6908C77.6406 18.391 77.4561 18.9811 77.137 19.4961C76.818 20.0065 76.3737 20.4076 75.804 20.6992C75.2344 20.9909 74.5439 21.1367 73.7327 21.1367C73.1084 21.1367 72.5456 21.0273 72.0443 20.8086C71.5475 20.5853 71.1214 20.2686 70.766 19.8584C70.415 19.4437 70.1462 18.9469 69.9593 18.3682C69.7725 17.7848 69.679 17.1309 69.679 16.4062V15.6475C69.679 14.9229 69.7747 14.2689 69.9661 13.6855C70.1576 13.1022 70.431 12.6055 70.7865 12.1953C71.1465 11.7806 71.5772 11.4616 72.0785 11.2383C72.5843 11.015 73.1494 10.9033 73.7738 10.9033C74.585 10.9033 75.2708 11.0537 75.8314 11.3545C76.3919 11.6507 76.8272 12.0586 77.137 12.5781C77.4469 13.0977 77.6338 13.6947 77.6976 14.3691H75.8177C75.7813 13.9499 75.6901 13.5944 75.5443 13.3027C75.403 13.0111 75.1888 12.79 74.9017 12.6396C74.6191 12.4847 74.2432 12.4072 73.7738 12.4072C73.4092 12.4072 73.0879 12.4756 72.8099 12.6123C72.5365 12.749 72.3086 12.9541 72.1263 13.2275C71.944 13.4964 71.8073 13.8337 71.7161 14.2393C71.625 14.6403 71.5794 15.1051 71.5794 15.6338V16.4062C71.5794 16.9121 71.6204 17.3656 71.7025 17.7666C71.7845 18.1676 71.9121 18.5072 72.0853 18.7852C72.2585 19.0632 72.4818 19.2751 72.7552 19.4209C73.0286 19.5667 73.3545 19.6396 73.7327 19.6396C74.193 19.6396 74.5667 19.5667 74.8538 19.4209C75.1455 19.2751 75.3665 19.0609 75.5169 18.7783C75.6719 18.4958 75.7699 18.1449 75.8109 17.7256ZM86.5837 15.1553V16.6318H81.3473V15.1553H86.5837ZM81.86 11.0469V21H79.9801V11.0469H81.86ZM87.9782 11.0469V21H86.0983V11.0469H87.9782ZM94.8066 12.5576L91.9697 21H89.9805L93.6992 11.0469H94.9707L94.8066 12.5576ZM97.1787 21L94.3281 12.5576L94.1572 11.0469H95.4355L99.1748 21H97.1787ZM97.0488 17.3018V18.7852H91.71V17.3018H97.0488ZM104.445 11.0469V21H102.572V11.0469H104.445ZM107.535 11.0469V12.5303H99.5159V11.0469H107.535Z"
                fill="white" />
              <defs>
                <linearGradient id="paint0_linear_55584_2391" x1="119" y1="1.13381e-05" x2="2.35597" y2="39.0393"
                  gradientUnits="userSpaceOnUse">
                  <stop stop-color="#9CD0FF" />
                  <stop offset="1" stop-color="#FFF8BC" />
                </linearGradient>
                <linearGradient id="paint1_linear_55584_2391" x1="119" y1="4.07685e-05" x2="-1.42267" y2="6.79795"
                  gradientUnits="userSpaceOnUse">
                  <stop stop-color="#E8A089" />
                  <stop offset="1" stop-color="#612A74" />
                </linearGradient>
              </defs>
            </svg>
            }
          </div>

          <ul class="features">
            <li *ngFor="let item of plan.Items">
              <ion-icon name="checkmark-circle" aria-hidden="true"></ion-icon>
              <span class="color-violet">{{ item.Description || item }}</span>
            </li>
          </ul>
          <div class="cta">
            <button class="gradient-btn" (click)="onUpgrade(plan.SubscriptionPlanId)">
              {{ 'upgrade.cta' | translate }}</button>
          </div>
        </ion-card-content>
      </ion-card>
    </section>
  </div>
</ion-content>