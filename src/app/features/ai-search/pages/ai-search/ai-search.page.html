<ion-content>
    <div class="search-container">
        <ion-card class="search-card">
            <ion-card-header>
                <ion-card-title>Tra cứu AI</ion-card-title>
            </ion-card-header>
            <ion-card-content>
                <form [formGroup]="searchForm" (ngSubmit)="onSearch()">
                    <ion-searchbar formControlName="query" placeholder="Nhập từ khóa tìm kiếm..."
                        show-clear-button="focus" (ionClear)="clearSearch()">
                    </ion-searchbar>

                    <div class="search-actions">
                        <ion-button type="submit" expand="block" [disabled]="searchForm.invalid || isLoading">
                            <ion-icon name="search" slot="start"></ion-icon>
                            {{ isLoading ? 'Đang tìm kiếm...' : 'Tìm kiếm' }}
                        </ion-button>
                    </div>
                </form>
            </ion-card-content>
        </ion-card>

        <!-- Search Results -->
        <div class="results-container" *ngIf="hasSearched">
            <ion-card *ngFor="let result of searchResults" class="result-card">
                <ion-card-header>
                    <ion-card-title>{{ result.title }}</ion-card-title>
                </ion-card-header>
                <ion-card-content>
                    <p>{{ result.content }}</p>
                </ion-card-content>
            </ion-card>

            <div *ngIf="searchResults.length === 0 && !isLoading" class="no-results">
                <ion-icon name="search-outline" class="no-results-icon"></ion-icon>
                <p>Không tìm thấy kết quả nào</p>
            </div>
        </div>
    </div>
</ion-content>