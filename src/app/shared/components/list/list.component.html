<ion-header translucent="true" class="ion-no-border">
  <ion-toolbar>
    <!-- Empty header - chỉ để tạo safe area -->
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  <!-- Hero -->
  <section class="hero ion-padding">
    <h1 class="title">{{ 'list.title' | translate }}</h1>

    <div class="title-row">
      <span class="with-text">{{ 'list.with' | translate }}</span>
      <span class="brand">LẠC VIỆT AI</span>

      <button class="ask-btn" (click)="ask()" [attr.aria-label]="('list.ask' | translate)">
        <ion-icon name="add-outline" aria-hidden="true"></ion-icon>
        <span>{{ 'list.ask' | translate }}</span>
      </button>
    </div>
  </section>

  <!-- Search -->
  <app-search-box *ngIf="showSearchBox" (valueChange)="onValueChange($event)"></app-search-box>

  <!-- Filter row -->
  <div class="ion-padding-horizontal filters" *ngIf="showYearFilter">
    <button class="year-chip" (click)="chooseYear()">
      <span>{{ 'list.yearLabel' | translate: { year: year } }}</span>
      <ion-icon name="chevron-down-outline"></ion-icon>
    </button>
  </div>

  <!-- Grid with equal height columns -->
  <div style="padding-bottom: 80px;">
    <ng-container *ngIf="lstData && lstData?.length">
      <ion-list class="ion-bg-color-none">
        <div class="grid-container ion-padding-horizontal" style="padding-bottom: 0 !important;">
          <ng-container *ngFor="let item of lstData; trackBy: trackByFn">
            <div class="grid-item" (click)="onItemClick(item)">
              <ion-img [src]="item?.AvatarPath" [alt]="item.Title" (ionError)="onImageError($event)"
                (ionImgDidLoad)="onImageLoad($event)">
              </ion-img>
              <button class="floating-btn" (click)="bookmark(item); $event.stopPropagation()" aria-label="Lưu">
                <ion-icon name="arrow-forward-outline"></ion-icon>
              </button>
            </div>
          </ng-container>
        </div>
      </ion-list>
      <ion-infinite-scroll *ngIf="isLoad" (ionInfinite)="onIonInfinite($event)">
        <ion-infinite-scroll-content loadingSpinner="crescent"></ion-infinite-scroll-content>
      </ion-infinite-scroll>
    </ng-container>
    <ng-container *ngIf="!lstData || lstData?.length == 0">
      <!-- de tam neu du lieu ko co se hien thi cai gi -->
    </ng-container>
  </div>
</ion-content>